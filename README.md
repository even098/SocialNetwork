# Social Network API

## Описание
API социальной сети, где пользователи могут выкладывать посты с фото, комментировать их, ставить лайки и подписываться друг на друга.

## Технологии
- **Python** + **Django Rest Framework**  
- **Djoser + SimpleJWT** (аутентификация и регистрация)
- **Google OAuth** (вход через Google)
- **TaggableManager** (работа с тегами)
- **WSL Ubuntu** (рабочая среда)
- **PostgreSQL** (БД)

## Функционал
### 1. Аутентификация и регистрация
- Регистрация через Djoser или Google OAuth
- Авторизация через JWT-токены

### 2. Посты
- Создание постов (заголовок + фото + теги)
- Редактирование и удаление своих постов
- Просмотр постов с бесконечной прокруткой

### 3. Комментарии
- Добавление комментариев к постам
- Лайки для комментариев
- CRUD для комментариев

### 4. Лайки
- Лайки для постов и комментариев

### 5. Подписки
- Подписка и отписка от пользователей
- Лента постов только от подписок

### 6. Уведомления
- Уведомления о лайках и комментариях (без WebSocket)

## Установка и запуск
```bash
# Клонирование репозитория
git clone https://github.com/your-repo.git
cd your-repo

# Установка зависимостей
pip install -r requirements.txt

# Применение миграций
python manage.py migrate

# Запуск сервера
python manage.py runserver
```

## Документация API
Доступна по адресу `/docs/` (Swagger или Redoc).

## Доступные эндпойнты

### Аутентификация
| Метод  | Эндпойнт               | Данные | Описание |
|--------|------------------------|--------|----------|
| POST   | `/auth/jwt/create/`    | `{email, password}` | Получение JWT-токена |
| Ответ  |                        | `{access, refresh}` |
| POST   | `/auth/users/`         | `{email, password}` | Регистрация нового пользователя |
| Ответ  |                        | `{id, email, username}` |
| POST   | `/auth/jwt/refresh/`   | `{refresh}` | Обновление access-токена |
| Ответ  |                        | `{access}` |

### Посты
| Метод  | Эндпойнт        | Данные | Описание |
|--------|----------------|--------|----------|
| GET    | `/posts/`      | - | Получение списка постов |
| Ответ  |                | `[{id, title, photo, tags}]` |
| POST   | `/posts/`      | `{title, photo, tags}` | Создание нового поста |
| Ответ  |                | `{id, title, photo, tags}` |
| GET    | `/posts/{id}/` | - | Получение деталей поста |
| Ответ  |                | `{id, title, photo, tags, comments}` |
| PUT    | `/posts/{id}/` | `{title, photo, tags}` | Редактирование поста |
| Ответ  |                | `{id, title, photo, tags}` |
| DELETE | `/posts/{id}/` | - | Удаление поста |

### Комментарии
| Метод  | Эндпойнт                     | Данные | Описание |
|--------|------------------------------|--------|----------|
| GET    | `/posts/{id}/comments/`      | - | Получение комментариев к посту |
| Ответ  |                              | `[{id, text, author, likes}]` |
| POST   | `/posts/{id}/comments/`      | `{text}` | Добавление комментария |
| Ответ  |                              | `{id, text, author, likes}` |
| DELETE | `/comments/{id}/`            | - | Удаление комментария |

### Лайки
| Метод  | Эндпойнт                 | Данные | Описание |
|--------|--------------------------|--------|----------|
| POST   | `/posts/{id}/like/`      | - | Лайк/дизлайк поста |
| Ответ  |                          | `{likes_count}` |
| POST   | `/comments/{id}/like/`   | - | Лайк/дизлайк комментария |
| Ответ  |                          | `{likes_count}` |

### Подписки
| Метод  | Эндпойнт                 | Данные | Описание |
|--------|--------------------------|--------|----------|
| POST   | `/users/{id}/follow/`    | - | Подписка на пользователя |
| Ответ  |                          | `{follower_count}` |
| DELETE | `/users/{id}/unfollow/`  | - | Отписка от пользователя |
| Ответ  |                          | `{follower_count}` |

### Уведомления
| Метод  | Эндпойнт          | Данные | Описание |
|--------|-------------------|--------|----------|
| GET    | `/notifications/` | - | Получение списка уведомлений |
| Ответ  |                   | `[{id, type, message, created_at}]` |

